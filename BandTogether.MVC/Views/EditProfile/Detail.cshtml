@model BandTogether.Models.TeacherModels.TeacherDetail

@{
    ViewBag.Title = "Detail";
    var base64 = Convert.ToBase64String(Model.ImageData);
    var contentType = Model.ContentType;
    var imgSrc = String.Format($"data:{contentType};base64,{base64}");
}

    
<div class="">
    <h2>@Model.FirstName @Model.LastName</h2>
</div>
<div class="">
    @Html.ActionLink("Edit", "EditName", "EditProfile", new { id = Model.TeacherId }, null)
</div>
    
    
@if (Model.FileName == "")
{
    <div class="empty-profile-pic">

    </div>
}
else
{
    <img src="@imgSrc" alt="@Model.FileName" class="profile-pic" />
}
<div class="">
    @Html.ActionLink("Edit", "EditPicture", "EditProfile", new { id = Model.TeacherId }, null)
</div>
    
@if (Model.Schools.Count != 0)
{
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Schools.Single().SchoolName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Schools.Single().City)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Schools.Single().State)
        </th>
    </tr>
        @foreach (var item in Model.Schools)
        {
            <tr>
                <td>
                    @Html.ActionLink(@Html.DisplayFor(modelItem => item.SchoolName).ToHtmlString(), "Detail", "Teacher", null, null)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.City)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.State)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", "School") |
                    @Html.ActionLink("Delete", "Delete", "School")
                </td>
            </tr>
        }
</table>
}
else
{
<div>You have not added any schools.</div>
}
@Html.ActionLink("Add School", "Create", "School")



